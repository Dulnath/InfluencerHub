(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,153)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})},c=a(30),o=a.n(c),s=a(15),m=a(7),i=(a(69),a(70),a(11)),u=a(12),d=a(20),p=a(19),E=a(82),b=a.n(E),g=a(148),h=a(145),f=a(151),v=a(147),x=function(){localStorage.clear()};var y=function(){return r.a.createElement("div",null,r.a.createElement(g.a,{bg:"light",variant:"light",expand:"lg"},r.a.createElement(h.a,null,r.a.createElement(g.a.Brand,null,r.a.createElement(s.b,{to:"/dashboard",className:"text-decoration-none text-dark"},"InfluencerHub")),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"justify-content-center"},r.a.createElement(f.a.Link,null,r.a.createElement(s.b,{to:"/dashboard",className:"text-decoration-none text-dark"},"Home")),r.a.createElement(f.a.Link,null,r.a.createElement(s.b,{to:"/allUsers",className:"text-decoration-none text-dark"}," All Users")),r.a.createElement(f.a.Link,null,r.a.createElement(s.b,{to:"/newUsers",className:"text-decoration-none text-dark"},"New Users")),r.a.createElement(v.a,{title:"Reports",id:"basic-nav-dropdown"},r.a.createElement(v.a.Item,null,r.a.createElement(s.b,{to:"/accountReports",className:"text-decoration-none text-dark"},"Account Reports")),r.a.createElement(v.a.Item,null,r.a.createElement(s.b,{to:"/commentReports",className:"text-decoration-none text-dark"},"Comment Reports"))),r.a.createElement(f.a.Link,null,r.a.createElement(s.b,{to:"/suspendedUsers",className:"text-decoration-none text-dark"},"Suspended Users")),r.a.createElement(f.a.Link,null,r.a.createElement(s.b,{to:"/adminSettings",className:"text-decoration-none text-dark"},"Settings")),r.a.createElement(f.a.Link,{onClick:x},r.a.createElement(s.b,{to:"/",className:"text-decoration-none text-dark"},"Log out")))))),r.a.createElement(m.a,null))},N=a(31),j=a.n(N),O=a(44),w=a(6),k=a(149),S=a(83);var C=function(){var e=Object(m.g)(),t=Object(n.useState)(""),a=Object(w.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(w.a)(o,2),i=s[0],u=s[1];function d(){return(d=Object(O.a)(j.a.mark(function t(a){var n,r,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("http://localhost:5000/api/useraccounts/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:i})});case 3:return n=t.sent,t.next=6,n.json();case 6:if(!(r=t.sent).user){t.next=19;break}if(console.log(r.test),c=window.location.pathname,localStorage.setItem("token",r.user),!r.test){t.next=15;break}return console.log("first login"),e("/firstlogin"),t.abrupt("return");case 15:alert("Login successful"),"/dashboard"===c?window.location.reload(!1):e("/dashboard"),t.next=20;break;case 19:alert("Please check your username and password");case 20:case"end":return t.stop()}},t)}))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(h.a,{className:"text-center col-md-3 border border-dark rounded-3",style:{marginTop:"300px"}},r.a.createElement("h2",{style:{paddingTop:"40px"}},"Admin Login"),r.a.createElement(k.a,{style:{padding:"40px"},onSubmit:function(e){return d.apply(this,arguments)}},r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formBasicEmail"},r.a.createElement(k.a.Control,{value:l,onChange:function(e){return c(e.target.value)},type:"email",placeholder:"Enter email"})),r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formBasicPassword"},r.a.createElement(k.a.Control,{value:i,onChange:function(e){return u(e.target.value)},type:"password",placeholder:"Password"})),r.a.createElement(S.a,{variant:"primary",type:"submit"},"Login"))))},T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLogged:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&(console.log("user is logged in"),this.setState({isLogged:!0}),console.log(this.isLogged))}},{key:"render",value:function(){return this.state.isLogged?r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"border-secondary text-center"},r.a.createElement("div",{class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{class:"h2",style:{paddingLeft:"20px"}},"Dashboard"),r.a.createElement("div",{class:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{style:{paddingRight:"20px"}},r.a.createElement("button",{type:"button",class:"btn btn-sm btn-outline-secondary dropdown-toggle"},r.a.createElement("span",{"data-feather":"calendar"}),"This week")))),r.a.createElement("img",{src:b.a,alt:""}))):r.a.createElement("div",null,r.a.createElement(C,null))}}]),a}(r.a.Component),L=a(64),I=a.n(L),R=a(146),P=a(84),A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={data:[],isLogged:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&(console.log("user is logged in"),this.setState({isLogged:!0}),console.log(this.isLogged),I.a.get("http://localhost:5000/api/useraccounts").then(function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){return this.state.isLogged?r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container-fluid",style:{marginTop:"30px"}},r.a.createElement("div",{className:"container-fluid",style:{position:"absolute",textAlign:"center",marginTop:"10px",paddingTop:"5px"}},this.state.data.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{fluid:"md",className:"p-3 mb-2 border border-primary rounded"},r.a.createElement(R.a,null,r.a.createElement(P.a,{xs:6,md:4},r.a.createElement("b",null,"Name ")," : ",e.firstName+" "+e.lastName),r.a.createElement(P.a,{xs:6,md:4},r.a.createElement("b",null,"Type ")," : ",e.type),r.a.createElement(P.a,{xs:6,md:4},r.a.createElement("b",null,"Email ")," : ",e.email))))})))):r.a.createElement("div",null,r.a.createElement(C,null))}}]),a}(r.a.Component),U=a(152);function D(e){var t=e.userType;return"influencer"===t?r.a.createElement(R.a,null,r.a.createElement(U.a.Title,{as:P.a},r.a.createElement("b",null,"Type")," : ",r.a.createElement("span",{className:"text-success"},t))):r.a.createElement(R.a,null,r.a.createElement(U.a.Title,{as:P.a},r.a.createElement("b",null,"Type")," : ",r.a.createElement("span",{className:"text-primary"},t)))}var F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={data:[],isLogged:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&(this.setState({isLogged:!0}),I.a.get("http://localhost:5000/api/newuser").then(function(t){e.setState({data:t.data})}))}},{key:"render",value:function(){return this.state.isLogged?r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container",style:{marginTop:"30px"}},r.a.createElement("div",{className:"container",style:{position:"absolute",marginTop:"10px",paddingTop:"5px"}},r.a.createElement(h.a,{className:"p-10 mb-2",fluid:"md"},this.state.data.map(function(e){return r.a.createElement(r.a.Fragment,{style:{padding:"10px"}},r.a.createElement(U.a,{className:"p-3 mb-2 border border-secondary"},r.a.createElement(U.a.Header,null," ",r.a.createElement("b",null,e.firstName+" "+e.lastName)," "),r.a.createElement(U.a.Body,null,r.a.createElement(D,{userType:e.type}),r.a.createElement(R.a,null,r.a.createElement(U.a.Text,{as:P.a},r.a.createElement("b",null,"Email ")," : ",e.email)),r.a.createElement(R.a,null,r.a.createElement(U.a.Text,{as:P.a},r.a.createElement("b",null,"Contact Number ")," : ",e.phoneNo)),r.a.createElement(R.a,null,r.a.createElement(U.a.Text,{as:P.a},r.a.createElement("b",null,"Description ")," : ",e.description)),r.a.createElement(R.a,null,r.a.createElement(P.a,{sm:9}),r.a.createElement(P.a,null,r.a.createElement(S.a,{variant:"danger",as:P.a,className:"mx-2"},"Reject"),r.a.createElement(S.a,{variant:"primary",as:P.a,className:"mx-2"},"Approve"))))))}))))):r.a.createElement("div",null,r.a.createElement(C,null))}}]),a}(r.a.Component),G=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container-md border border-secondary text-center"},r.a.createElement("h2",null,"This page Shows Comment Reports")))}}]),a}(r.a.Component),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container-md border border-secondary text-center"},r.a.createElement("h2",null,"This page shows Account Reports")))}}]),a}(r.a.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container-md border border-secondary text-center"},r.a.createElement("h2",null,"This page shows Suspended Users")))}}]),a}(n.Component),H=a(150),M=a(85);var _=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(w.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),d=Object(w.a)(u,2),p=d[0],E=d[1],b=Object(n.useState)(""),g=Object(w.a)(b,2),f=g[0],v=g[1],x=Object(n.useState)(""),N=Object(w.a)(x,2),T=N[0],L=N[1],I=Object(n.useState)(""),A=Object(w.a)(I,2),U=A[0],D=A[1],F=Object(m.g)(),G=localStorage.getItem("token"),B=Object(n.useRef)();function J(){return(J=Object(O.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T!==U){e.next=11;break}return e.next=4,fetch("http://localhost:5000/api/useraccounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fname:a,lname:s,email:p,contactNo:f,password:T})});case 4:return n=e.sent,e.next=7,n.json();case 7:"ok"===e.sent.status?(console.log("data submitted"),F("../dashboard"),alert("Sucessfully registered New Admin")):alert("Registration Error!"),e.next=12;break;case 11:alert("Passwords do not match!!!");case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return G?r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement(H.a,{defaultActiveKey:"1",style:{padding:"10px 40px 0px 40px"}},r.a.createElement(H.a.Item,{eventKey:"0"},r.a.createElement(H.a.Header,{className:"text-decoration-none text-dark"},"Register new Admin"),r.a.createElement(H.a.Body,null,r.a.createElement(h.a,null,r.a.createElement(k.a,{ref:B,onSubmit:function(e){!function(e){J.apply(this,arguments)}(e),function(e){e.preventDefault(),M.a.sendForm("gmail","template_x894tin",B.current,"user_n4zSmO5iVS8LRqNYkq1XA").then(function(e){console.log(e.text),console.log("Sent Mail")},function(e){console.log(e.text)})}(e)}},r.a.createElement(R.a,null,r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formFirstName"},r.a.createElement(k.a.Control,{value:a,onChange:function(e){return l(e.target.value)},type:"text",name:"fname",placeholder:"First Name"}))),r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formLastName"},r.a.createElement(k.a.Control,{value:s,onChange:function(e){return i(e.target.value)},type:"text",name:"lname",placeholder:"Last Name"})))),r.a.createElement(R.a,null,r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formEmail"},r.a.createElement(k.a.Control,{value:p,onChange:function(e){return E(e.target.value)},type:"email",name:"email",placeholder:"Email"}))),r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formContactNo"},r.a.createElement(k.a.Control,{value:f,onChange:function(e){return v(e.target.value)},type:"text",name:"contactNo",placeholder:"Contact Number"})))),r.a.createElement(R.a,null,r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formPassword"},r.a.createElement(k.a.Control,{value:T,onChange:function(e){return L(e.target.value)},type:"password",name:"password",placeholder:"Password"}))),r.a.createElement(P.a,null,r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formPasswordRep"},r.a.createElement(k.a.Control,{value:U,onChange:function(e){return D(e.target.value)},type:"password",placeholder:"Repeat Password"}))),r.a.createElement(S.a,{variant:"primary",type:"submit"},"Register")))))))):r.a.createElement("div",null,r.a.createElement(C,null))};var q=function(){var e=Object(m.g)(),t=Object(n.useState)(""),a=Object(w.a)(t,2),l=a[0],c=a[1];function o(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)}function s(){return(s=Object(O.a)(j.a.mark(function t(){var a,n,r,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),n=o(a),r=n.email,console.log(n.email),t.next=6,fetch("http://localhost:5000/api/useaccounts/firstlogin",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:l,email:r})});case 6:return c=t.sent,t.next=9,c.json();case 9:"ok"===t.sent.status?(console.log("password updated"),e("../dashboard")):console.log("could not update password");case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(h.a,{className:"text-center col-md-3 border border-dark rounded-3",style:{marginTop:"300px"}},r.a.createElement("h4",{style:{paddingTop:"40px"},className:"text-danger"},"New Password"),r.a.createElement(k.a,{style:{padding:"40px"},onSubmit:function(){return s.apply(this,arguments)}},r.a.createElement(k.a.Group,{className:"mb-3",controlId:"formBasicPassword"},r.a.createElement(k.a.Control,{value:l,onChange:function(e){return c(e.target.value)},type:"password",placeholder:"Password"})),r.a.createElement(S.a,{variant:"primary",type:"submit"},"Login"))))};o.a.render(r.a.createElement(s.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",element:r.a.createElement(C,null)}),r.a.createElement(m.b,null,r.a.createElement(m.b,{path:"dashboard",element:r.a.createElement(T,null)}),r.a.createElement(m.b,{path:"allUsers",element:r.a.createElement(A,null)}),r.a.createElement(m.b,{path:"newUsers",element:r.a.createElement(F,null)}),r.a.createElement(m.b,{path:"accountReports",element:r.a.createElement(B,null)}),r.a.createElement(m.b,{path:"commentReports",element:r.a.createElement(G,null)}),r.a.createElement(m.b,{path:"suspendedusers",element:r.a.createElement(J,null)}),r.a.createElement(m.b,{path:"adminsettings",element:r.a.createElement(_,null)}),r.a.createElement(m.b,{path:"firstlogin",element:r.a.createElement(q,null)})))),document.getElementById("root")),l()},82:function(e,t,a){e.exports=a.p+"static/media/graph.3458d214.png"},88:function(e,t,a){e.exports=a(139)}},[[88,1,2]]]);
//# sourceMappingURL=main.54425142.chunk.js.map